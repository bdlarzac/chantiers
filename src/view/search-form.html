{{/*
    @copyright  BDL, Bois du Larzac.
    @licence    GPL, conformémént au fichier LICENCE situé à la racine du projet.
*/}}
<div style="padding:.5rem 0 0 5rem;">
    <h1>Recherche d'activités</h1>
</div>


<form class="form" action="{{$.Details.UrlAction}}" onsubmit="return validateForm();" method="post" novalidate>

    <h2>Filtres</h2>
    <div class="flex-wrap">
    
        <div class="inline-block">
            <div>
                {{template "choix-periode.html" $.Details}}
                <script>
                const choixPeriode = new ChoixPeriode('choix-periode');
                choixPeriode.display();
                choixPeriode.initialize();
                </script>
            </div>
            <div class="margin-top">
                {{template "choix-proprio.html" $.Details}}
                <script>
                const choixProprio = new ChoixProprio('choix-proprio');
                choixProprio.display();
                choixProprio.initialize();
                </script>
            </div>
            <div class="margin-top">
                {{template "choix-fermier.html" $.Details}}
                <script>
                const choixFermier = new ChoixFermier('choix-fermier');
                choixFermier.display();
                choixFermier.initialize();
                </script>
            </div>
        </div>
        
        <div class="inline-block margin-left05">
            {{template "choix-essence.html" $.Details}}
            <script>
            const choixEssence = new ChoixEssence('choix-essence');
            choixEssence.display();
            choixEssence.initialize();
            </script>
        </div>
        
        <div class="inline-block margin-left05">
            {{template "choix-ug.html" $.Details}}
            <script>
            const choixUG = new ChoixUG('choix-ug');
            choixUG.display();
            choixUG.initialize();
            </script>
        </div>
        
        {{/*
        <div class="inline-block">
            {{template "choix-acteur.html" $.Details}}
            <script>
            const choixActeur = new ChoixActeur('choix-acteur');
            choixActeur.display();
            choixActeur.initialize();
            </script>
        </div>
        */}}
    </div>
    
    <div class="float-right">
        <input class="big-button" type="button" name="cancel" value="Annuler" onClick="window.history.back();">
        <input class="big-button" type="submit" value="Valider">
        <input type="hidden" name="choix-ALL-essence" id="choix-ALL-essence" value="">
        <input type="hidden" name="choix-ALL-proprio" id="choix-ALL-proprio" value="">
    </div>
                                                                                                                                      
</form>

<script>

function validateForm(){
    let msg = '';
    document.getElementById('choix-ALL-essence').value = choixEssence_isAllSelected();
    document.getElementById('choix-ALL-proprio').value = choixProprio_isAllSelected();
    msg += choixPeriode_validateForm('choix-periode');
    //
    if(msg != ''){
        alert("Impossible de valider ce formulaire : \n" + msg);
        return false;
    }
    return true;
}
</script>

