

Mise à jour des données SCTL dans la base BDL

Ce répertoire contient différentes versions de la base Access (.mdb), non versionnés, ainsi que les exports csv, non versionnés.

Utilise mdb-export
sudo apt install mdbtools

1 - Générer des fichiers csv à partir des tables de la base SCTL
---------------------------------------------------------------------------------------------------

- Récupérer la dernière version de la base = fichier .mdb présent sur le NAS du bureau BDL.

- Renommer ce fichier Sctl-Gfa-AAAA-MM-JJ.mdb en utilisant la date du jour, par ex Sctl-Gfa-2020-02-27.mdb

- Mettre le fichier renommé dans le répertoire appli/1-manage/sctl-update/

- Créer un répertoire AAAA-MM-JJ dans appli/1-manage/sctl-update/
ex : appli/1-manage/sctl-update/2020-02-27/

- Exécuter le script en mettant la date AAAA-MM-JJ en paramètre.
ex : mdb2csv 2020-02-27

Les fichiers générés se trouvent dans le répertoire appli/1-manage/sctl-update/AAAA-MM-JJ

---------------------------------------------------------------------------------------------------

2 - Importer les fichiers csv dans la base BDL

go run sctl-update AAAA-MM-JJ